{% extends "../theme/bage.html" %}
{% block head %}

{% end %}
{% block index_banner %}
    <div class="row banner" style="border-radius: 3%;">
                    <div id="myCarousel" class="carousel slide">
                        <!-- 轮播（Carousel）指标 -->
                        <ol class="carousel-indicators">
                            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                            <li data-target="#myCarousel" data-slide-to="1"></li>
                            <li data-target="#myCarousel" data-slide-to="2"></li>
                        </ol>
                        <!-- 轮播（Carousel）项目 -->
                        <div class="carousel-inner">
                            <div class="item active">
                                <img src="/static/media/banner-1.png" alt="First slide">
                                <div class="carousel-caption">标题 1</div>
                            </div>
                            <div class="item">
                                <img src="/static/media/banner-1.png" alt="Second slide">
                                <div class="carousel-caption">标题 2</div>
                            </div>
                            <div class="item">
                                <img src="/static/media/banner-1.png" alt="Third slide">
                                <div class="carousel-caption">标题 3</div>
                            </div>
                        </div>
                        <!-- 轮播（Carousel）导航 -->
                        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
{% end %}
{% block index_marquee %}
<div class="row" id="marquee">
                      <marquee behavior="behavior" width="auto" loop="2">這裏會是一個跑馬燈的效果</marquee>
                </div>
{% end %}
{% block mainbody %}
<div class="row index-content">
    <link rel="stylesheet" href="/static/css/tab-switch/tab-switch.css">
	<div class="tabs">
		<input type="radio" id="radio-1" name="tabs" onclick="switchOptions(this)" checked />
		<label class="tab" for="radio-1">论坛</label>
		<input type="radio" id="radio-2" name="tabs" onclick="switchOptions(this)"/>
		<label class="tab" for="radio-2">问答<span class="notification">2</span></label>
		<span class="glider"></span>
	</div>
    <div id="post-artciles">
        <div>
            <div class="row title">
                <h4><a href="/info/9f840">Title</a></h4>
                <p class="author-detail">發文者:<a href="">尼安德特人</a> </p>
            </div>
            <div class="row more2less">
                <span><a onclick="collapse(this, 1)"><b>more</b></a></span>
                <span style="display: none"><a onclick="collapse(this, 2)"><b>less</b></a></span>
            </div>
            <div class="index-details">
            </div>
            <div class="row post-detail">
                <p>初次發布時刻: YYYY/MM/DD HH:mm:ss</p>
                <p>內容更新時刻: YYYY/MM/DD HH:mm:ss</p>
            </div>
            <div class="row more2less">
                <span><a onclick="collapse(this, 1)"><b>more</b></a></span>
                <span style="display: none"><a onclick="collapse(this, 2)"><b>less</b></a></span>
            </div>
            <hr />
        </div>
        <div>
            <div class="row title">
                <h4>Title</h4>
                <p class="author-detail">發文者:<a href="">尼安德特人</a> </p>
            </div>
            <div class="row more2less">
                <span><a onclick="collapse(this, 1)"><b>more</b></a></span>
                <span style="display: none"><a onclick="collapse(this, 2)"><b>less</b></a></span>
            </div>
            <div class="index-details">
            </div>
            <div class="row post-detail">
                <p>初次發布時刻: YYYY/MM/DD HH:mm:ss</p>
                <p>內容更新時刻: YYYY/MM/DD HH:mm:ss</p>
            </div>
            <div class="row more2less">
                <span><a onclick="collapse(this, 1)"><b>more</b></a></span>
                <span style="display: none"><a onclick="collapse(this, 2)"><b>less</b></a></span>
            </div>
            <hr />
        </div>
    </div>
    <div id="questions">
        <div class="question-card">
            <div class="row">
                <div class="col-xs-3 author-avatar"><img src="/static/upload/avatar1.jpg" alt=""></div>
                <div class="col-xs-3 author-name">尼安德特人</div>
            </div>
            <div class="row question-title">
                Why are Chinese characters wearing Korean traditional clothing in historical Chinese dramas, and why is this phenomenon increasingly observed in recent years?
            </div>
            <div class="row descriptions">
                <p>
descriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptions
descriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptions
descriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptions
                </p>
            </div>
            <div class="row question-components">
                <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-comment" aria-hidden="true">11</span>
            </div>
        </div>
        <div class="question-card">
            <div class="row">
                <div class="col-xs-3 author-avatar"><img src="/static/upload/avatar1.jpg" alt=""></div>
                <div class="col-xs-3 author-name">尼安德特人</div>
            </div>
            <div class="row question-title">
                Why are Chinese characters wearing Korean traditional clothing in historical Chinese dramas, and why is this phenomenon increasingly observed in recent years?
            </div>
            <div class="row descriptions">
                <p>
descriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptions
descriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptions
descriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptionsdescriptions
                </p>
            </div>
            <div class="row question-components">
                <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-share" aria-hidden="true"></span>
                <span class="glyphicon glyphicon-comment" aria-hidden="true">11</span>
            </div>
        </div>
    </div>


</div>

<script type="text/javascript">

    $(function(){
        var dataUrl3 = "/static/tmp/tmp_content.json"
        var request3 = new XMLHttpRequest();
        request3.open("get", dataUrl3)
        request3.send(null)
        request3.onload = function(){
            if (request.status == 200) {
                var detailList = request3.responseText
                details = $('.index-details')
                for (let i=0; i<details.length; i++) {
                    innerText = JSON.parse(detailList)[0].content
                    var smallText = innerText.substr(0,450)
                    details[i].innerHTML = "<p>"+smallText+"</p>"
                }
            }
        }
    })
</script>
<script type="text/javascript">
    function collapse(e, flag) {
        var dataUrl3 = "/static/tmp/tmp_content.json"
        var request3 = new XMLHttpRequest();
        request3.open("get", dataUrl3)
        request3.send(null)
        targetDetail = e.parentNode.parentNode.parentNode.getElementsByClassName("index-details")[0]

        if (flag === 1){
            request3.onload = function(){
                if (request.status == 200) {
                    var detailList = request3.responseText
                    innerText = JSON.parse(detailList)[0].content
                    targetDetail.innerHTML = "<p>"+innerText+"</p>"
                }
            }
            e.parentNode.style.display = "none"
            e.parentNode.nextElementSibling.style.display = ""
        } else{
            request3.onload = function(){
                if (request.status == 200) {
                    var detailList = request3.responseText
                    innerText = JSON.parse(detailList)[0].content
                    var smallText = innerText.substr(0,450)
                    targetDetail.innerHTML = "<p>"+smallText+"</p>"
                }
            }
            e.parentNode.style.display = "none"
            e.parentNode.previousElementSibling.style.display = ""
        }
    }
</script>
<script type="text/javascript">
    function switchOptions(e){
        if (e.id == "radio-1") {
            $("#post-artciles").css("display", "block")
            $("#questions").css("display", "none")
        }else{
            $("#post-artciles").css("display", "none")
            $("#questions").css("display", "block")
        }
    }
</script>
{% end %}
